import{d as N,g as n,c,f as k,h as G,t as J,i as O,o as u,_ as P,j as Q,k as S,l as T,m as H,n as b,p as t,u as q,F as B,a as F,q as L,s as X,w as f}from"./index-Cq29ANbI.js";import{u as A,r as R,B as U,M as Y,N as Z,n as ee}from"./NormalModule-PYxCnNFh.js";import{l as j,F as te,B as oe}from"./Block-CHWKBwxq.js";import{P as ne,a as ae}from"./PositionalEncoding-Orn1kkqP.js";const re={key:0,class:"info"},le=N({__name:"ModuleDisplay",props:{name:{default:"Module"}},setup(_){const m=_,e=n();return(a,l)=>(u(),c("div",null,[k("div",{class:"comp",ref_key:"slot",ref:e},[G(a.$slots,"default",{},void 0,!0)],512),m.name?(u(),c("div",re,J(m.name),1)):O("",!0)]))}}),p=P(le,[["__scopeId","data-v-1effa40f"]]),se=N({__name:"Encoder",props:{name:{default:"Encoder"},math:{type:Boolean,default:!1},color:{default:"default"},skew:{default:.2},rotate:{default:0}},setup(_,{expose:m}){Q(r=>({"2d06d669":e.color=="default"?q(a).getColor(e.name):e.color,"315cc54c":`${e.skew*100}%`,"3d5d6aaa":`${100-e.skew*100}%`,"24f2e042":`${i.value*e.skew}px`,eba660dc:d.value+"px","694e03be":i.value*e.skew+"px",d746f814:-2-i.value*e.skew+"px","05f57f5b":i.value+"px","23ac016c":d.value*e.skew+"px",48792233:`${d.value-2*(1-e.skew)}px`}));const e=_,a=A(),l=n(),d=n(0),i=n(0);S(()=>{T(R(l.value,()=>{d.value=l.value.offsetWidth,i.value=l.value.offsetHeight}))});const g=n(),y=H([]);return S(()=>{let r;const M=v=>e.rotate===0||e.rotate===2?v.map(o=>{const{type:h,pos:s}=o;return o.type=="top"?{type:h,pos:[s[0],s[1]+r.height*e.skew*.5]}:o.type=="bottom"?{type:h,pos:[s[0],s[1]-r.height*e.skew*.5]}:o}):v.map(o=>{const{type:h,pos:s}=o;return o.type=="left"?{type:h,pos:[s[0]+r.width*e.skew*.5,s[1]]}:o.type=="right"?{type:h,pos:[s[0]-r.width*e.skew*.5,s[1]]}:o});T(R(g.value,()=>{r=g.value.getBoundingClientRect(),y.length=0;const v=U(r,[]);y.push(...M(v))}))}),m({keypoints:y}),(r,M)=>(u(),c("div",null,[k("div",{class:b(["encoder-block",[`encoder-block-rotate-${e.rotate}`]]),ref_key:"refSelf",ref:g},[k("div",{class:b(["triangle",[`triangle1-rotate-${e.rotate}`]])},null,2),k("div",{class:b([`content-rotate-${e.rotate}`]),ref_key:"content",ref:l},[t(Y,{content:e.name,math:e.math},null,8,["content","math"])],2),k("div",{class:b(["triangle",[`triangle2-rotate-${e.rotate}`]])},null,2)],2)]))}}),$=P(se,[["__scopeId","data-v-2bcd83d0"]]),ce={class:"normal-tensor-block"},ue=N({__name:"Tensor",props:{color:{default:"#000"},row:{default:4},col:{default:1},width:{default:"18px"},height:{default:"20px"},background:{default:"default"},rotate:{default:0}},setup(_,{expose:m}){const e=A(),a=_,l=n(),d=H([]);return S(()=>{T(R(l.value,()=>{const i=l.value.getBoundingClientRect();d.length=0,U(i,d)}))}),m({keypoints:d}),(i,g)=>(u(),c("div",{class:"normal-tensor",ref_key:"refSelf",ref:l,style:L({background:a.background==="default"?q(e).getColor("Tensor1"):a.background})},[k("table",ce,[(u(!0),c(B,null,F(a.col,y=>(u(),c("tr",{key:y},[(u(!0),c(B,null,F(a.row,r=>(u(),c("td",{key:r},[k("div",{style:L({width:a.width,height:a.height})},null,4)]))),128))]))),128))])],4))}}),de=P(ue,[["__scopeId","data-v-c178b45e"]]),ie=_=>(_(),_),fe={class:"container"},pe={class:"keypoints"},_e=N({__name:"ExampleModule",setup(_){const m=n(),e=n(),a=n(),l=n(),d=n(),i=n(),g=n(),y=n(),r=n(),M=n(),v=H([]),o=w=>{w&&v.push(...w)},h=n();X(ee(()=>{var w,C,E,x,W,z,D,V,K;v.length=0,o((w=m.value)==null?void 0:w.keypoints),o((C=i.value)==null?void 0:C.keypoints),o((E=y.value)==null?void 0:E.keypoints),o((x=r.value)==null?void 0:x.keypoints),o((W=e.value)==null?void 0:W.keypoints),o((z=a.value)==null?void 0:z.keypoints),o((D=l.value)==null?void 0:D.keypoints),o((V=d.value)==null?void 0:V.keypoints),o((K=M.value)==null?void 0:K.keypoints),j(h.value)}));const s=n(window.innerWidth),I=n(window.innerHeight);return window.addEventListener("resize",ie(()=>{s.value=window.innerWidth,I.value=window.innerHeight,j(s.value,I.value)})),(w,C)=>(u(),c(B,null,[k("div",fe,[t(p,{name:"NormalModule"},{default:f(()=>[t(Z,{ref_key:"refNormalModule",ref:m},null,512)]),_:1}),t(p,{name:"EncoderModule"},{default:f(()=>[t($,{ref_key:"refEncoderModule0",ref:e},null,512)]),_:1}),t(p,{name:"EncoderModule"},{default:f(()=>[t($,{rotate:1,ref_key:"refEncoderModule1",ref:a},null,512)]),_:1}),t(p,{name:"EncoderModule"},{default:f(()=>[t($,{rotate:2,ref_key:"refEncoderModule2",ref:l},null,512)]),_:1}),t(p,{name:"EncoderModule"},{default:f(()=>[t($,{rotate:3,ref_key:"refEncoderModule3",ref:d},null,512)]),_:1}),t(p,{name:"FunctionalModule"},{default:f(()=>[t(te,{ref_key:"refFunctionalModule",ref:i},null,512)]),_:1}),t(p,{name:"LayerBlock"},{default:f(()=>[t(oe,{ref_key:"refLayerBlock",ref:g},null,512)]),_:1}),t(p,{name:"PositionalEncoding"},{default:f(()=>[t(ne,{ref_key:"refPositionalEncoding",ref:y},null,512)]),_:1}),t(p,{name:"PositionalTensor"},{default:f(()=>[t(ae,{ref_key:"refPositionalTensor",ref:r},null,512)]),_:1}),t(p,{name:"NormalTensor"},{default:f(()=>[t(de,{ref_key:"refNormalTensor",ref:M},null,512)]),_:1})]),k("div",pe,[(u(!0),c(B,null,F(v,(E,x)=>(u(),c("div",{class:"keypoints-point",key:x,style:L({left:E.pos[0]+"px",top:E.pos[1]+"px"})},null,4))),128))]),(u(),c("svg",{class:"mask",ref_key:"canvas",ref:h},null,512))],64))}}),he=P(_e,[["__scopeId","data-v-e906c1fe"]]);export{he as default};
