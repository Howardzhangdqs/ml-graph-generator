import{d as N,g as n,c,f as m,h as J,t as q,i as O,o as u,_ as P,j as Q,u as A,k as S,l as T,m as R,n as b,p as t,F as B,a as I,q as F,s as X,w as f}from"./index-CI6a4IWY.js";import{u as U,r as L,B as G,M as Y,N as Z,n as ee}from"./NormalModule-DA1CQck8.js";import{F as te,B as oe}from"./Block-BDTFswpA.js";import{l as j,P as ne,a as ae}from"./PositionalEncoding-Bfa68HXO.js";import{I as re}from"./Image-BE5R1rQL.js";const le={key:0,class:"info"},se=N({__name:"ModuleDisplay",props:{name:{default:"Module"}},setup(_){const k=_,e=n();return(a,l)=>(u(),c("div",null,[m("div",{class:"comp",ref_key:"slot",ref:e},[J(a.$slots,"default",{},void 0,!0)],512),k.name?(u(),c("div",le,q(k.name),1)):O("",!0)]))}}),p=P(se,[["__scopeId","data-v-1effa40f"]]),ce=N({__name:"Encoder",props:{name:{default:"Encoder"},math:{type:Boolean,default:!1},color:{default:"default"},skew:{default:.2},rotate:{default:0}},setup(_,{expose:k}){Q(r=>({"2d06d669":e.color=="default"?A(a).getColor(e.name):e.color,"315cc54c":`${e.skew*100}%`,"3d5d6aaa":`${100-e.skew*100}%`,"24f2e042":`${i.value*e.skew}px`,eba660dc:d.value+"px","694e03be":i.value*e.skew+"px",d746f814:-2-i.value*e.skew+"px","05f57f5b":i.value+"px","23ac016c":d.value*e.skew+"px",48792233:`${d.value-2*(1-e.skew)}px`}));const e=_,a=U(),l=n(),d=n(0),i=n(0);S(()=>{T(L(l.value,()=>{d.value=l.value.offsetWidth,i.value=l.value.offsetHeight}))});const w=n(),v=R([]);return S(()=>{let r;const M=y=>e.rotate===0||e.rotate===2?y.map(o=>{const{type:h,pos:s}=o;return o.type=="top"?{type:h,pos:[s[0],s[1]+r.height*e.skew*.5]}:o.type=="bottom"?{type:h,pos:[s[0],s[1]-r.height*e.skew*.5]}:o}):y.map(o=>{const{type:h,pos:s}=o;return o.type=="left"?{type:h,pos:[s[0]+r.width*e.skew*.5,s[1]]}:o.type=="right"?{type:h,pos:[s[0]-r.width*e.skew*.5,s[1]]}:o});T(L(w.value,()=>{r=w.value.getBoundingClientRect(),v.length=0;const y=G(r,[]);v.push(...M(y))}))}),k({keypoints:v}),(r,M)=>(u(),c("div",null,[m("div",{class:b(["encoder-block",[`encoder-block-rotate-${e.rotate}`]]),ref_key:"refSelf",ref:w},[m("div",{class:b(["triangle",[`triangle1-rotate-${e.rotate}`]])},null,2),m("div",{class:b([`content-rotate-${e.rotate}`]),ref_key:"content",ref:l},[t(Y,{content:e.name,math:e.math},null,8,["content","math"])],2),m("div",{class:b(["triangle",[`triangle2-rotate-${e.rotate}`]])},null,2)],2)]))}}),$=P(ce,[["__scopeId","data-v-2bcd83d0"]]),ue={class:"normal-tensor-block"},de=N({__name:"Tensor",props:{color:{default:"#000"},row:{default:4},col:{default:1},width:{default:"18px"},height:{default:"20px"},background:{default:"default"},rotate:{default:0}},setup(_,{expose:k}){const e=U(),a=_,l=n(),d=R([]);return S(()=>{T(L(l.value,()=>{const i=l.value.getBoundingClientRect();d.length=0,G(i,d)}))}),k({keypoints:d}),(i,w)=>(u(),c("div",{class:"normal-tensor",ref_key:"refSelf",ref:l,style:F({background:a.background==="default"?A(e).getColor("Tensor1"):a.background})},[m("table",ue,[(u(!0),c(B,null,I(a.col,v=>(u(),c("tr",{key:v},[(u(!0),c(B,null,I(a.row,r=>(u(),c("td",{key:r},[m("div",{style:F({width:a.width,height:a.height})},null,4)]))),128))]))),128))])],4))}}),ie=P(de,[["__scopeId","data-v-c178b45e"]]),fe=_=>(_(),_),pe={class:"container"},me={class:"container"},_e={class:"keypoints"},ke=N({__name:"ExampleModule",setup(_){const k=n(),e=n(),a=n(),l=n(),d=n(),i=n(),w=n(),v=n(),r=n(),M=n(),y=R([]),o=g=>{g&&y.push(...g)},h=n();X(ee(()=>{var g,C,E,x,W,z,D,V,K;y.length=0,o((g=k.value)==null?void 0:g.keypoints),o((C=i.value)==null?void 0:C.keypoints),o((E=v.value)==null?void 0:E.keypoints),o((x=r.value)==null?void 0:x.keypoints),o((W=e.value)==null?void 0:W.keypoints),o((z=a.value)==null?void 0:z.keypoints),o((D=l.value)==null?void 0:D.keypoints),o((V=d.value)==null?void 0:V.keypoints),o((K=M.value)==null?void 0:K.keypoints),j(h.value)}));const s=n(window.innerWidth),H=n(window.innerHeight);return window.addEventListener("resize",fe(()=>{s.value=window.innerWidth,H.value=window.innerHeight,j(s.value,H.value)})),(g,C)=>(u(),c(B,null,[m("div",pe,q(g.$t("messages.info")),1),m("div",me,[t(p,{name:"NormalModule"},{default:f(()=>[t(Z,{ref_key:"refNormalModule",ref:k},null,512)]),_:1}),t(p,{name:"EncoderModule"},{default:f(()=>[t($,{ref_key:"refEncoderModule0",ref:e},null,512)]),_:1}),t(p,{name:"EncoderModule"},{default:f(()=>[t($,{rotate:1,ref_key:"refEncoderModule1",ref:a},null,512)]),_:1}),t(p,{name:"EncoderModule"},{default:f(()=>[t($,{rotate:2,ref_key:"refEncoderModule2",ref:l},null,512)]),_:1}),t(p,{name:"EncoderModule"},{default:f(()=>[t($,{rotate:3,ref_key:"refEncoderModule3",ref:d},null,512)]),_:1}),t(p,{name:"FunctionalModule"},{default:f(()=>[t(te,{ref_key:"refFunctionalModule",ref:i},null,512)]),_:1}),t(p,{name:"LayerBlock"},{default:f(()=>[t(oe,{ref_key:"refLayerBlock",ref:w},null,512)]),_:1}),t(p,{name:"PositionalEncoding"},{default:f(()=>[t(ne,{ref_key:"refPositionalEncoding",ref:v},null,512)]),_:1}),t(p,{name:"PositionalTensor"},{default:f(()=>[t(ae,{ref_key:"refPositionalTensor",ref:r},null,512)]),_:1}),t(p,{name:"NormalTensor"},{default:f(()=>[t(ie,{ref_key:"refNormalTensor",ref:M},null,512)]),_:1}),t(p,{name:"Image"},{default:f(()=>[t(re,{ref:"refImage"},null,512)]),_:1})]),m("div",_e,[(u(!0),c(B,null,I(y,(E,x)=>(u(),c("div",{class:"keypoints-point",key:x,style:F({left:E.pos[0]+"px",top:E.pos[1]+"px"})},null,4))),128))]),(u(),c("svg",{class:"mask",ref_key:"canvas",ref:h},null,512))],64))}}),Me=P(ke,[["__scopeId","data-v-beb16406"]]);export{Me as default};
