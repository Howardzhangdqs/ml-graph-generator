import{r as B,a as S,F as w,T as C}from"./resizeSvg-C3Y33rEr.js";import{u as D,N as $,n as F,K as u,M as H}from"./NormalModule-DA1CQck8.js";import{u as L}from"./useDrawArrow-Df85hU-W.js";import{I as R}from"./Image-BE5R1rQL.js";import{d as M,g as r,o as n,c as i,f as e,F as f,a as v,n as h,p as t,u as k,_ as I,j as K,s as V,t as U,e as j,i as q,x as G,y as J,w as b,q as P}from"./index-CI6a4IWY.js";import{l as g}from"./listAdd-DPCe6vFM.js";import{_ as z}from"./GapSpace.vue_vue_type_script_setup_true_lang-CvViUT1m.js";const N=""+new URL("../vit/example_0_0.jpg",import.meta.url).href,O=N.split("/").slice(0,-1).join("/"),T=(p,c)=>`${O}/example_${p}_${c}.jpg`,Q=M({__name:"RawImage",setup(p,{expose:c}){console.log(N);const d=r();return c({el:d}),(m,y)=>(n(),i("div",null,[e("table",null,[(n(),i(f,null,v(3,a=>e("tr",{key:a},[(n(),i(f,null,v(3,s=>e("td",{key:s,class:h(m.$style.tr)},[t(R,{ref_for:!0,ref_key:"img",ref:d,src:k(T)(a-1,s-1),width:"2rem",height:"2rem"},null,8,["src"])],2)),64))])),64))])]))}}),W="_tr_zy859_3",X={tr:W},Y={$style:X},Z=I(Q,[["__cssModules",Y]]),A=p=>(G("data-v-a1da6c77"),p=p(),J(),p),ee=A(()=>e("td",null,null,-1)),te={colspan:"9"},se={style:{"padding-left":"17px"}},oe=A(()=>e("td",null,null,-1)),ne={style:{direction:"rtl"}},ae=M({__name:"Input",setup(p){K(s=>({ac6c6e34:k(c).getColor("patch-position-embedding"),"051476de":k(c).getColor("patch-position-embedding-class"),f5a38a16:k(c).getColor("patch-position-embedding-data")}));const c=D(),d=r(),m=r(),y=r(),a=r();return V(F(()=>{B(m,d);const{draw:s,clean:_}=L(m.value);_();const l=[...a.value].map(x=>u(x.keypoints).top),o=y.value[0].getBoundingClientRect(),E=o.left+o.width/2;l.forEach(x=>{s(g(x,[0,0]),g(x,[0,-112]))}),s([E,o.top+o.height/2],g([E,o.top],[0,-19])),s(g([o.left,o.top+o.height/2],[-45,0]),g([o.left,o.top+o.height/2],[-25,0]))})),(s,_)=>(n(),i(f,null,[e("div",{ref_key:"container",ref:d},[e("table",null,[e("tr",null,[(n(),i(f,null,v(10,l=>e("td",{key:l},[e("div",{class:h(s.$style.td)},[e("div",{class:h([s.$style["patch-position-embedding"],s.$style["patch-position-embedding-class"]])},U(l-1),3),e("div",{class:h([s.$style["patch-position-embedding"],s.$style["patch-position-embedding-data"]]),ref_for:!0,ref_key:"datas",ref:y},[l==1?(n(),j(H,{key:0,content:"\\ast"})):q("",!0)],2)],2)])),64))]),e("tr",null,[ee,e("td",te,[e("div",se,[t($,{name:"Linear Projection of Flattened Patches",class:h(s.$style.module)},null,8,["class"])])])]),e("tr",null,[oe,(n(),i(f,null,v(3,l=>(n(),i(f,{key:l},[(n(),i(f,null,v(3,o=>e("td",{key:o},[e("div",ne,[t(R,{ref_for:!0,ref_key:"img",ref:a,style:{margin:"auto"},width:"2rem",height:"2rem",src:k(T)(l-1,o-1)},null,8,["src"])])])),64))],64))),64))])])],512),(n(),i("svg",{class:"mask",ref_key:"svg",ref:m},null,512))],64))}}),le="_td_16lx9_47",re="_module_16lx9_57",ie={"patch-position-embedding":"_patch-position-embedding_16lx9_3","patch-position-embedding-class":"_patch-position-embedding-class_16lx9_31","patch-position-embedding-data":"_patch-position-embedding-data_16lx9_39",td:le,module:re},ce={$style:ie},de=I(ae,[["__cssModules",ce],["__scopeId","data-v-a1da6c77"]]),me={style:{transform:"translate(-265px, -80px)"}},ue=M({__name:"index",setup(p){const c=r(),d=r(),m=r(),y=r(),a=r(),s=r();return V(F(()=>{B(d,c);const{draw:_,clean:l}=L(d.value);l(),_(g(u(m.value.el[5].keypoints).right,[0,0]),g(u(m.value.el[5].keypoints).right,[74,0])),_([u(a.value.keypoints).top[0],u(s.value.keypoints).top[1]],u(a.value.keypoints).bottom),_(u(a.value.keypoints).left,[u(y.value.keypoints).right[0],u(a.value.keypoints).left[1]])},void 0,!0)),(_,l)=>(n(),i(f,null,[t(S,{ref_key:"container",ref:c,class:h(_.$style.container)},{default:b(()=>[t(w,null,{default:b(()=>[t(C,{name:"<b>Vision Transformer (ViT)</b>",style:{"font-size":"1.3rem"}})]),_:1}),t(w,null,{default:b(()=>[t(C,{style:P({position:"absolute",transform:"translate(-265px, 189px)",fontSize:".8rem",textAlign:"left"}),name:"* Extra learnable<br><code>[class]</code> Embedding",math:!1},null,8,["style"]),t(C,{style:P({position:"absolute",transform:"translate(-265px, 157px)",fontSize:".8rem",textAlign:"left"}),name:"<b>Patch + Position<br>Embedding</b>",math:!1},null,8,["style"]),t($,{name:"<b>Class</b><br>Bird<br>Ball<br>Car<br>...",styles:{width:"min-content",borderRadius:"1.9rem",padding:"0.7rem .7rem 0.3rem .7rem",backgroundColor:"#ffd2a4"},ref_key:"refClass",ref:y},null,512),t(z,{width:"2rem"}),t(S,{gap:"1rem"},{default:b(()=>[t(z),t($,{name:"MLP<br>Head",styles:{width:"min-content",backgroundColor:"#ffd2a4"},ref_key:"refMLPHead",ref:a},null,512),t($,{ref_key:"refEncoder",ref:s,name:"Transformer Encoder",styles:{height:"3rem",backgroundColor:"#e5e5e5"}},null,512),t(de)]),_:1})]),_:1}),t(w,null,{default:b(()=>[e("div",me,[t(Z,{ref_key:"rawimg",ref:m},null,512)])]),_:1})]),_:1},8,["class"]),(n(),i("svg",{class:"mask",ref_key:"svg",ref:d},null,512))],64))}}),pe="_container_1a2fr_3",_e={container:pe},fe={$style:_e},$e=I(ue,[["__cssModules",fe]]);export{$e as default};
