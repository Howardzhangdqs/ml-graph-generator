import{r as B,a as S,F as w,T as C}from"./resizeSvg-DqUlF4Le.js";import{u as T,N as x,n as F,K as m,M as A}from"./NormalModule-DQ00dE5k.js";import{u as V}from"./useDrawArrow-CCNOZJYw.js";import{I as L}from"./Image-Cgy8GPgh.js";import{d as E,g as r,o as a,c as i,f as e,F as _,a as k,n as h,p as t,_ as I,j as D,u as M,s as N,t as H,e as K,i as q,x as j,y as G,w as b,q as P}from"./index-PblwYezg.js";import{l as f}from"./listAdd-DPCe6vFM.js";import{_ as z}from"./GapSpace.vue_vue_type_script_setup_true_lang-CGWLtNe-.js";const J=E({__name:"RawImage",setup(g,{expose:u}){const c=r();return u({el:c}),(d,y)=>(a(),i("div",null,[e("table",null,[(a(),i(_,null,k(3,l=>e("tr",{key:l},[(a(),i(_,null,k(3,s=>e("td",{key:s,class:h(d.$style.tr)},[t(L,{ref_for:!0,ref_key:"img",ref:c,src:`/vit/example_${l-1}_${s-1}.jpg`,width:"2rem",height:"2rem"},null,8,["src"])],2)),64))])),64))])]))}}),O="_tr_zy859_3",Q={tr:O},U={$style:Q},W=I(J,[["__cssModules",U]]),R=g=>(j("data-v-642fe0a2"),g=g(),G(),g),X=R(()=>e("td",null,null,-1)),Y={colspan:"9"},Z={style:{"padding-left":"17px"}},ee=R(()=>e("td",null,null,-1)),te={style:{direction:"rtl"}},se=E({__name:"Input",setup(g){D(s=>({"6412c492":M(u).getColor("patch-position-embedding"),"28864f3d":M(u).getColor("patch-position-embedding-class"),"6dcbaac9":M(u).getColor("patch-position-embedding-data")}));const u=T(),c=r(),d=r(),y=r(),l=r();return N(F(()=>{B(d,c);const{draw:s,clean:p}=V(d.value);p();const n=[...l.value].map(v=>m(v.keypoints).top),o=y.value[0].getBoundingClientRect(),$=o.left+o.width/2;console.log(n,$,o.top),n.forEach(v=>{s(f(v,[0,0]),f(v,[0,-112]))}),s([$,o.top+o.height/2],f([$,o.top],[0,-19])),s(f([o.left,o.top+o.height/2],[-45,0]),f([o.left,o.top+o.height/2],[-25,0]))})),(s,p)=>(a(),i(_,null,[e("div",{ref_key:"container",ref:c},[e("table",null,[e("tr",null,[(a(),i(_,null,k(10,n=>e("td",{key:n},[e("div",{class:h(s.$style.td)},[e("div",{class:h([s.$style["patch-position-embedding"],s.$style["patch-position-embedding-class"]])},H(n-1),3),e("div",{class:h([s.$style["patch-position-embedding"],s.$style["patch-position-embedding-data"]]),ref_for:!0,ref_key:"datas",ref:y},[n==1?(a(),K(A,{key:0,content:"\\ast"})):q("",!0)],2)],2)])),64))]),e("tr",null,[X,e("td",Y,[e("div",Z,[t(x,{name:"Linear Projection of Flattened Patches",class:h(s.$style.module)},null,8,["class"])])])]),e("tr",null,[ee,(a(),i(_,null,k(3,n=>(a(),i(_,{key:n},[(a(),i(_,null,k(3,o=>e("td",{key:o},[e("div",te,[t(L,{ref_for:!0,ref_key:"img",ref:l,style:{margin:"auto"},width:"2rem",height:"2rem",src:`/vit/example_${n-1}_${o-1}.jpg`},null,8,["src"])])])),64))],64))),64))])])],512),(a(),i("svg",{class:"mask",ref_key:"svg",ref:d},null,512))],64))}}),oe="_td_16lx9_47",ne="_module_16lx9_57",ae={"patch-position-embedding":"_patch-position-embedding_16lx9_3","patch-position-embedding-class":"_patch-position-embedding-class_16lx9_31","patch-position-embedding-data":"_patch-position-embedding-data_16lx9_39",td:oe,module:ne},le={$style:ae},re=I(se,[["__cssModules",le],["__scopeId","data-v-642fe0a2"]]),ie={style:{transform:"translate(-265px, -80px)"}},ce=E({__name:"index",setup(g){const u=r(),c=r(),d=r(),y=r(),l=r(),s=r();return N(F(()=>{B(c,u);const{draw:p,clean:n}=V(c.value);n(),p(f(m(d.value.el[5].keypoints).right,[0,0]),f(m(d.value.el[5].keypoints).right,[74,0])),p([m(l.value.keypoints).top[0],m(s.value.keypoints).top[1]],m(l.value.keypoints).bottom),p(m(l.value.keypoints).left,[m(y.value.keypoints).right[0],m(l.value.keypoints).left[1]])},void 0,!0)),(p,n)=>(a(),i(_,null,[t(S,{ref_key:"container",ref:u,class:h(p.$style.container)},{default:b(()=>[t(w,null,{default:b(()=>[t(C,{name:"<b>Vision Transformer (ViT)</b>",style:{"font-size":"1.3rem"}})]),_:1}),t(w,null,{default:b(()=>[t(C,{style:P({position:"absolute",transform:"translate(-265px, 189px)",fontSize:".8rem",textAlign:"left"}),name:"* Extra learnable<br><code>[class]</code> Embedding",math:!1},null,8,["style"]),t(C,{style:P({position:"absolute",transform:"translate(-265px, 157px)",fontSize:".8rem",textAlign:"left"}),name:"<b>Patch + Position<br>Embedding</b>",math:!1},null,8,["style"]),t(x,{name:"<b>Class</b><br>Bird<br>Ball<br>Car<br>...",styles:{width:"min-content",borderRadius:"1.9rem",padding:"0.7rem .7rem 0.3rem .7rem",backgroundColor:"#ffd2a4"},ref_key:"refClass",ref:y},null,512),t(z,{width:"2rem"}),t(S,{gap:"1rem"},{default:b(()=>[t(z),t(x,{name:"MLP<br>Head",styles:{width:"min-content",backgroundColor:"#ffd2a4"},ref_key:"refMLPHead",ref:l},null,512),t(x,{ref_key:"refEncoder",ref:s,name:"Transformer Encoder",styles:{height:"3rem",backgroundColor:"#e5e5e5"}},null,512),t(re)]),_:1})]),_:1}),t(w,null,{default:b(()=>[e("div",ie,[t(W,{ref_key:"rawimg",ref:d},null,512)])]),_:1})]),_:1},8,["class"]),(a(),i("svg",{class:"mask",ref_key:"svg",ref:c},null,512))],64))}}),de="_container_1a2fr_3",me={container:de},ue={$style:me},ke=I(ce,[["__cssModules",ue]]);export{ke as default};
